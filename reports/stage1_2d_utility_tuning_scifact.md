# Stage1 2D Utility Tuning (scifact)

- in_path: `/mnt/c/Users/nguye/Downloads/My projject/the-rag-auditor/data/calibration/scifact_stage1_dev_train.parquet`
- n: `200`
- seed: `14`
- logit_col: `raw_max_top3`
- cs_ret_col: `cs_ret`
- tau_source: `config`
- constraint_ci: `wilson`
- max_fp_accept_rate: `0.05`
- max_fn_reject_rate: `0.05`

## Budget <= 0.3

- feasible_configs: `0`
| tau | t_lower | t_upper | c_accept | c_reject | uncertain_rate | fp_accept_rate | fn_reject_rate | ok_rate | coverage | utility |
|---|---|---|---|---|---|---|---|---|---|---|
| 0.6095 | 0.0000 | 0.8020 | 0.0100 | 0.0000 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.2080 | 0.0000 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.2080 | 0.1980 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.4060 | 0.0000 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.4060 | 0.1980 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.4060 | 0.3960 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.6040 | 0.0000 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.6040 | 0.1980 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.6040 | 0.3960 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.6040 | 0.5940 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |

## Budget <= 0.4

- feasible_configs: `0`
| tau | t_lower | t_upper | c_accept | c_reject | uncertain_rate | fp_accept_rate | fn_reject_rate | ok_rate | coverage | utility |
|---|---|---|---|---|---|---|---|---|---|---|
| 0.6095 | 0.0000 | 0.8020 | 0.0100 | 0.0000 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.2080 | 0.0000 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.2080 | 0.1980 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.4060 | 0.0000 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.4060 | 0.1980 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.4060 | 0.3960 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.6040 | 0.0000 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.6040 | 0.1980 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.6040 | 0.3960 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.6040 | 0.5940 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |

## Budget <= 0.5

- feasible_configs: `0`
| tau | t_lower | t_upper | c_accept | c_reject | uncertain_rate | fp_accept_rate | fn_reject_rate | ok_rate | coverage | utility |
|---|---|---|---|---|---|---|---|---|---|---|
| 0.6095 | 0.0000 | 0.8020 | 0.0100 | 0.0000 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.2080 | 0.0000 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.2080 | 0.1980 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.4060 | 0.0000 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.4060 | 0.1980 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.4060 | 0.3960 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.6040 | 0.0000 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.6040 | 0.1980 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.6040 | 0.3960 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |
| 0.6095 | 0.0000 | 0.8020 | 0.6040 | 0.5940 | 0.2300 | 0.1150 | 0.0000 | 0.8850 | 0.7700 | -0.6100 |

## Budget <= 0.6

- feasible_configs: `0`
| tau | t_lower | t_upper | c_accept | c_reject | uncertain_rate | fp_accept_rate | fn_reject_rate | ok_rate | coverage | utility |
|---|---|---|---|---|---|---|---|---|---|---|
| 0.6095 | 0.0000 | 0.0100 | 0.8020 | 0.0000 | 0.5950 | 0.0250 | 0.0000 | 0.9750 | 0.4050 | -0.4400 |
| 0.6095 | 0.0000 | 0.0100 | 0.8020 | 0.1980 | 0.5950 | 0.0250 | 0.0000 | 0.9750 | 0.4050 | -0.4400 |
| 0.6095 | 0.0000 | 0.0100 | 0.8020 | 0.3960 | 0.5950 | 0.0250 | 0.0000 | 0.9750 | 0.4050 | -0.4400 |
| 0.6095 | 0.0000 | 0.0100 | 0.8020 | 0.5940 | 0.5950 | 0.0250 | 0.0000 | 0.9750 | 0.4050 | -0.4400 |
| 0.6095 | 0.0000 | 0.2080 | 0.8020 | 0.0000 | 0.5950 | 0.0250 | 0.0000 | 0.9750 | 0.4050 | -0.4400 |
| 0.6095 | 0.0000 | 0.2080 | 0.8020 | 0.1980 | 0.5950 | 0.0250 | 0.0000 | 0.9750 | 0.4050 | -0.4400 |
| 0.6095 | 0.0000 | 0.2080 | 0.8020 | 0.3960 | 0.5950 | 0.0250 | 0.0000 | 0.9750 | 0.4050 | -0.4400 |
| 0.6095 | 0.0000 | 0.2080 | 0.8020 | 0.5940 | 0.5950 | 0.0250 | 0.0000 | 0.9750 | 0.4050 | -0.4400 |
| 0.6095 | 0.0000 | 0.4060 | 0.8020 | 0.0000 | 0.5950 | 0.0250 | 0.0000 | 0.9750 | 0.4050 | -0.4400 |
| 0.6095 | 0.0000 | 0.4060 | 0.8020 | 0.1980 | 0.5950 | 0.0250 | 0.0000 | 0.9750 | 0.4050 | -0.4400 |

Selected config

- selected: none
- reason: no feasible config under constraints

Repro command

```
scripts/stage1_2d_utility_tune.py --track scifact --in_path /mnt/c/Users/nguye/Downloads/My projject/the-rag-auditor/data/calibration/scifact_stage1_dev_train.parquet --logit_col raw_max_top3 --budgets 0.30 0.40 0.50 0.60 --constraint_ci wilson --threshold_steps 6 --tau_grid_steps 3 --n 200 --out_md reports/stage1_2d_utility_tuning_scifact.md --out_yaml configs/thresholds_stage1_product_2d_scifact.yaml
```
